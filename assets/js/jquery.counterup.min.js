!function(t){"use strict";t.fn.counterUp=function(e){var a=t.extend({time:400,delay:10,formatter:!1,callback:function(){}},e);return this.each(function(){var e=t(this),n={time:t(this).data("counterup-time")||a.time,delay:t(this).data("counterup-delay")||a.delay},u=function(){var t=[],a=n.time/n.delay,u=e.text(),r=/[0-9]+,[0-9]+/.test(u);u=u.replace(/,/g,"");var s=(u.split(".")[1]||[]).length,i=/[0-9]+:[0-9]+:[0-9]+/.test(u);if(i)for(var o=u.split(":"),c=0,l=1;o.length>0;)c+=l*parseInt(o.pop(),10),l*=60;for(var d=a;d>=1;d--){var f=parseFloat(u/a*d).toFixed(s);if(i){f=parseInt(c/a*d);var p=parseInt(f/3600)%24,m=parseInt(f/60)%60,h=parseInt(f%60,10);f=(10>p?"0"+p:p)+":"+(10>m?"0"+m:m)+":"+(10>h?"0"+h:h)}if(r)for(;/(\d+)(\d{3})/.test(f.toString());)f=f.toString().replace(/(\d+)(\d{3})/,"$1,$2");$settings.formatter&&(f=$settings.formatter.call(this,f)),t.unshift(f)}e.data("counterup-nums",t),e.text("0");var y=function(){e.html(e.data("counterup-nums").shift()),e.data("counterup-nums").length?setTimeout(e.data("counterup-func"),n.delay):(delete e.data("counterup-nums"),e.data("counterup-nums",null),e.data("counterup-func",null),$settings.callback.call(this))};e.data("counterup-func",y),setTimeout(e.data("counterup-func"),n.delay)};e.waypoint(function(t){u(),this.destroy()},{offset:"100%"})})}}(jQuery);
